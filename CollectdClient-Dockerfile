FROM debian:jessie

MAINTAINER admin@bitsofparag.com

ARG buildenv=production
ARG influxdb_host=localhost

ENV BUILD_ENV=$buildenv
ENV INFLUXDB_HOST=$influxdb_host

EXPOSE 8080/tcp
EXPOSE 8080/udp

RUN apt-get update -y \
    && apt-get install -y collectd collectd-utils tcpdump curl net-tools

COPY ./config/collectd.conf.tpl /etc/collectd.conf

# When built, launch collectd: CMD exec collectd -C /etc/collectd.conf -fpf
